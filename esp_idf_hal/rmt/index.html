<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Remote Control (RMT) module driver."><meta name="keywords" content="rust, rustlang, rust-lang, rmt"><title>esp_idf_hal::rmt - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9def1262ebc682c9.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../../static.files/ayu-94f39d4346842c1e.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../esp_idf_hal/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../esp_idf_hal/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module rmt</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../index.html">esp_idf_hal</a>::<wbr><a class="mod" href="#">rmt</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/esp_idf_hal/rmt.rs.html#1-1152">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Remote Control (RMT) module driver.</p>
<p>The RMT (Remote Control) module driver can be used to send infrared remote control
signals. Due to flexibility of RMT module, the driver can also be used to generate or receive
many other types of signals.</p>
<p>This module is an abstraction around the <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/rmt.html">IDF RMT</a>
implementation. It is recommended to read before using this module.</p>
<p>This is implementation currently supports transmission only.</p>
<p>Not supported:</p>
<ul>
<li>Interrupts.</li>
<li>Receiving.</li>
<li>Change of config after initialisation.</li>
</ul>
<h2 id="example"><a href="#example">Example</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Prepare the config.
</span><span class="kw">let </span>config = Config::new().clock_divider(<span class="number">1</span>);

<span class="comment">// Retrieve the output pin and channel from peripherals.
</span><span class="kw">let </span>peripherals = Peripherals::take().unwrap();
<span class="kw">let </span>channel = peripherals.rmt.channel0;
<span class="kw">let </span>pin = peripherals.pins.gpio18;

<span class="comment">// Create an RMT transmitter.
</span><span class="kw">let </span>tx = TxRmtDriver::new(channel, pin, <span class="kw-2">&amp;</span>config)<span class="question-mark">?</span>;

<span class="comment">// Prepare signal pulse signal to be sent.
</span><span class="kw">let </span>low = Pulse::new(PinState::Low, PulseTicks::new(<span class="number">10</span>)<span class="question-mark">?</span>);
<span class="kw">let </span>high = Pulse::new(PinState::High, PulseTicks::new(<span class="number">10</span>)<span class="question-mark">?</span>);
<span class="kw">let </span><span class="kw-2">mut </span>signal = FixedLengthSignal::&lt;<span class="number">2</span>&gt;::new();
signal.set(<span class="number">0</span>, <span class="kw-2">&amp;</span>(low, high))<span class="question-mark">?</span>;
signal.set(<span class="number">1</span>, <span class="kw-2">&amp;</span>(high, low))<span class="question-mark">?</span>;

<span class="comment">// Transmit the signal.
</span>tx.start(signal)<span class="question-mark">?</span>;</code></pre></div>
<p>See the <code>examples/</code> folder of this repository for more.</p>
<h2 id="loading-pulses"><a href="#loading-pulses">Loading pulses</a></h2>
<p>There are two ways of preparing pulse signal. <a href="struct.FixedLengthSignal.html" title="FixedLengthSignal">FixedLengthSignal</a> and <a href="struct.VariableLengthSignal.html" title="VariableLengthSignal">VariableLengthSignal</a>. These
implement the <a href="trait.Signal.html" title="Signal">Signal</a> trait.</p>
<p><a href="struct.FixedLengthSignal.html" title="FixedLengthSignal">FixedLengthSignal</a> lives on the stack and must have the items set in pairs of <a href="struct.Pulse.html" title="Pulse">Pulse</a>s. This is
due to the internal implementation of RMT, and const generics limitations.</p>
<p><a href="struct.VariableLengthSignal.html" title="VariableLengthSignal">VariableLengthSignal</a> allows you to use the heap and incrementally add pulse items without knowing the size
ahead of time.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="config/index.html" title="esp_idf_hal::rmt::config mod">config</a></div><div class="item-right docblock-short">Types used for configuring the <a href="index.html" title="crate::rmt"><code>rmt</code></a> module.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL0.html" title="esp_idf_hal::rmt::CHANNEL0 struct">CHANNEL0</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL1.html" title="esp_idf_hal::rmt::CHANNEL1 struct">CHANNEL1</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL2.html" title="esp_idf_hal::rmt::CHANNEL2 struct">CHANNEL2</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL3.html" title="esp_idf_hal::rmt::CHANNEL3 struct">CHANNEL3</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FixedLengthSignal.html" title="esp_idf_hal::rmt::FixedLengthSignal struct">FixedLengthSignal</a></div><div class="item-right docblock-short">Stack based signal storage for an RMT signal.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Pulse.html" title="esp_idf_hal::rmt::Pulse struct">Pulse</a></div><div class="item-right docblock-short">A <code>Pulse</code> contains a pin state and a tick count, used in creating a <a href="trait.Signal.html" title="Signal"><code>Signal</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PulseTicks.html" title="esp_idf_hal::rmt::PulseTicks struct">PulseTicks</a></div><div class="item-right docblock-short">Number of ticks, restricting the range to 0 to 32,767.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RMT.html" title="esp_idf_hal::rmt::RMT struct">RMT</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RxRmtDriver.html" title="esp_idf_hal::rmt::RxRmtDriver struct">RxRmtDriver</a></div><div class="item-right docblock-short">The RMT receiver.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TxRmtDriver.html" title="esp_idf_hal::rmt::TxRmtDriver struct">TxRmtDriver</a></div><div class="item-right docblock-short">The RMT transmitter driver.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VariableLengthSignal.html" title="esp_idf_hal::rmt::VariableLengthSignal struct">VariableLengthSignal</a></div><div class="item-right docblock-short"><code>Vec</code> heap based storage for an RMT signal.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PinState.html" title="esp_idf_hal::rmt::PinState enum">PinState</a></div><div class="item-right docblock-short">A <code>Low</code> (0) or <code>High</code> (1) state for a pin.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Receive.html" title="esp_idf_hal::rmt::Receive enum">Receive</a></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.RmtChannel.html" title="esp_idf_hal::rmt::RmtChannel trait">RmtChannel</a></div><div class="item-right docblock-short">RMT peripheral channel.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Signal.html" title="esp_idf_hal::rmt::Signal trait">Signal</a></div><div class="item-right docblock-short">Signal storage for [<code>Transmit</code>] in a format ready for the RMT driver.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.duration_to_ticks.html" title="esp_idf_hal::rmt::duration_to_ticks fn">duration_to_ticks</a></div><div class="item-right docblock-short">A utility to convert a duration into ticks, depending on the clock ticks.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.ticks_to_duration.html" title="esp_idf_hal::rmt::ticks_to_duration fn">ticks_to_duration</a></div><div class="item-right docblock-short">A utility to convert ticks into duration, depending on the clock ticks.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.RmtReceiveConfig.html" title="esp_idf_hal::rmt::RmtReceiveConfig type">RmtReceiveConfig</a></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.RmtTransmitConfig.html" title="esp_idf_hal::rmt::RmtTransmitConfig type">RmtTransmitConfig</a></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.RxRmtConfig.html" title="esp_idf_hal::rmt::RxRmtConfig type">RxRmtConfig</a></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.TxRmtConfig.html" title="esp_idf_hal::rmt::TxRmtConfig type">TxRmtConfig</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (37d7de337 2022-12-12)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>